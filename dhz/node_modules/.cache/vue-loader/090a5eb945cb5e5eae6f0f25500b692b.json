{"remainingRequest":"D:\\MyObject\\r\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyObject\\r\\Travel-log\\dhz\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyObject\\r\\Travel-log\\dhz\\src\\views\\Home.vue","mtime":1606354695697},{"path":"D:\\MyObject\\r\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606267027152},{"path":"D:\\MyObject\\r\\Travel-log\\dhz\\node_modules\\babel-loader\\lib\\index.js","mtime":1606267026752},{"path":"D:\\MyObject\\r\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606267027152},{"path":"D:\\MyObject\\r\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js","mtime":1606267041309}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBJbWFnZVByZXZpZXcgfSBmcm9tICJ2YW50IjsgLy8g5byV5YWlVmFudOWbvueJh+mihOiniOe7hOS7tg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbHVlOiIiLA0KICAgICAgc2hvd19ib3JkZXI6ZmFsc2UsDQogICAgICAvLyDpu5jorqTooqvpgInlrprnmoTpobbpg6jpgInpobnljaHlj4rpnaLmnb8NCiAgICAgIGFjdGl2ZTogMCwNCg0KICAgICAgLy8g5a2Y5YKo5pyN5Yqh5Zmo6L+U5Zue55qE5pel5b+X5YiG57G7DQogICAgICBjbGFzc2lmeTpbXSwNCiAgICAgIC8vIOeUqOS6juWtmOWCqOacjeWKoeWZqOi/lOWbnue7k+aenA0KICAgICAgZGlhcnlzOiBbXSwNCiAgICAgIC8vIOmhteeggQ0KICAgICAgcGFnZTogMSwNCiAgICAgIC8v5oC76aG15pWwDQogICAgICBwYWdlY291bnQ6MCwNCg0KDQogICAgICAvLyDml6Xlv5flm77niYfmu5HliqjmmK/lkKbnpoHnlKgNCiAgICAgIC8vIGRpc2FibGVkOmZhbHNlLA0KDQogICAgICAvLyDlpLTlg4/mmL7npLoNCiAgICAgIGF2YXRhcjp0cnVlLA0KICAgICAgLy8g5piv5ZCm5ZC46aG2DQogICAgICBpc0ZpeGVkOmZhbHNlLA0KICAgICAgLy8g5a+86Iiq5Zu+5qCH6aKc6ImyDQogICAgICBudmFfaWNvbl9jb2xvcjoiI2ZmZiIsDQogICAgICAvLyDog4zmma/popzoibINCiAgICAgIGJhY2tncm91bmRDb2xvcjoidHJhbnNwYXJlbnQiLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgLy8g5a+86Iiq5qCP6YCC6YWN5Y+Y6ImyDQogICAgaGFuZGxlU2Nyb2xsICgpIHsNCiAgICAgIC8vIOiOt+WPlua7muWKqOeahOi3neemuw0KICAgICAgbGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wDQogICAgICAvLyDojrflj5bmoIfpophkb20NCiAgICAgIGxldCBuYXZfdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ2YW4tbmF2LWJhcl9fdGl0bGUiKVswXTsNCiAgICAgIC8vIOWmguaenOWQuOmhtui3neemu+Wkp+S6juetieS6jjQ2DQogICAgICBpZiAoc2Nyb2xsVG9wID49IDI4Nykgew0KICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICIjZmZmIjsNCiAgICAgICAgdGhpcy5udmFfaWNvbl9jb2xvciA9ICIjNUFCQ0M4IjsNCiAgICAgICAgbmF2X3RpdGxlLnN0eWxlLmNvbG9yID0gIiM1QUJDQzgiOw0KICAgICAgICB0aGlzLnNob3dfYm9yZGVyID0gdHJ1ZTsNCiAgICAgICB9IGVsc2UgeyAvLyDlkKbliJkNCiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAidHJhbnNwYXJlbnQiDQogICAgICAgIHRoaXMubnZhX2ljb25fY29sb3IgPSAiI2ZmZiINCiAgICAgICAgbmF2X3RpdGxlLnN0eWxlLmNvbG9yID0gIiNmZmYiOw0KICAgICAgICB0aGlzLnNob3dfYm9yZGVyID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCg0KDQogICAgLy8g5Zu+54mH6aKE6KeIDQogICAgcHJldmlldyhpbWFnZXMsaW5kZXgpew0KICAgICAgLy8g5Yib5bu66ZyA6KaB6aKE6KeI55qE5Zu+54mHIFVSTCDnqbrmlbDnu4QNCiAgICAgIGxldCBwaWMgPSBbXTsNCiAgICAgIGltYWdlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7DQogICAgICAgIC8vICAgICAgICAgICAgICDojrflj5bot6/lvoTliY3pnaLnmoR1cmwgIOaLvOaOpSAg5Zu+54mH5ZCNDQogICAgICAgIHBpYy5wdXNoKCBgaHR0cDovLzEyNy4wLjAuMTo4ODg4L2pvdXJuYWwtcGljLyR7dmFsdWUucGljdHVyZV9waWN9YCk7DQogICAgICB9KTsgDQogICAgICAvLyBJbWFnZVByZXZpZXcg5Zu+54mH6aKE6KeI57uE5Lu2DQogICAgICBJbWFnZVByZXZpZXcoew0KICAgICAgICBpbWFnZXM6cGljLCAvL+mcgOimgemihOiniOeahOWbvueJhyBVUkwg5pWw57uEDQogICAgICAgIHNob3dJbmRleDp0cnVlLCAvL+aYr+WQpuaYvuekuumhteeggQ0KICAgICAgICBsb29wOmZhbHNlLCAvL+aYr+WQpuW8gOWQr+W+queOr+aSreaUvg0KICAgICAgICBzdGFydFBvc2l0aW9uOmluZGV4IC8v5Zu+54mH6aKE6KeI6LW35aeL5L2N572u57Si5byVDQogICAgICB9KTsNCiAgICB9LA0KDQoNCiAgICAvLyDoh6rlrprkuYnlh73mlbANCiAgICBsb2FkZGF0YSh2YWx1ZSkgew0KICAgICAgLy8g5byC5q2l5pu05paw5pWw5o2uDQogICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSk7DQogICAgICAvLyDnm5HlkKzliLDlj5jljJbnmoTlgLzlj5HpgIEgYWN0aXZlICDojrflj5blvZPliY3nmoTml6Xlv5cNCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCcvam91cm5hbC9kaWFyeT9jaWQ9JyArIHZhbHVlKS50aGVuKCByZXMgPT4gew0KICAgICAgICANCiAgICAgICAgLy/ojrflj5bmnI3liqHlmajov5Tlm57nmoTmlbDmja4gLS0g5pWw57uEDQogICAgICAgIHRoaXMuZGlhcnlzID0gcmVzLmRhdGEucmVzdWx0Ow0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICB9KQ0KICAgIH0sDQoNCg0KICAgIC8vIOS4quS6uui1hOaWmeeZu+W9leWIpOWumiANCiAgICBteUluZm8oKXsNCiAgICAgIGxldCBpc09ubG9naW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS5pc09ubG9naW47DQogICAgICBpZiAoIGlzT25sb2dpbiA9PSAxKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGVyc29uYWdlIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiR0b2FzdC5mYWlsKCfor7fnmbvlvZXlkI7mn6XnnIsnKTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOw0KICAgICAgfQ0KICAgIH0NCg0KDQoNCiAgfSwNCiAgd2F0Y2g6ew0KICAgIC8v55uR5ZCs6aG26YOo6YCJ6aG55Y2h5Y+R55Sf5Y+Y5YyW5pe25Y+R6YCB6K+35rGC5Lul6I635Y+W5a+55bqU55qE5pel5b+X5pWw5o2uDQogICAgYWN0aXZlKHZhbHVlKSB7DQoNCiAgICAgIC8v6K6+572u6aG156CB5Y+Y6YeP5YC85Li6MSjlm6DkuLrliJrliJrliIfmjaLliLDku7vkvZXkuIDkuKrpgInpobnljaHml7bpg73mmK/mmL7npLror6XnsbvliKvkuIvnmoTnrKwx6aG155qE5pWw5o2uKQ0KICAgICAgdGhpcy5wYWdlID0gMTsNCg0KICAgICAgLy8g6LCD55So6I635Y+W5pel5b+X55qE5Ye95pWwDQogICAgICB0aGlzLmxvYWRkYXRhKHZhbHVlKTsNCg0KICAgICAgLy8gdGhpcy5heGlvcy5nZXQoJy9qb3VybmFsL2RpYXJ5P2NpZD0nICsgdmFsdWUpLnRoZW4oIHJlcyA9PiB7DQogICAgICAvLyAgIHRoaXMuZGlhcnlzID0gW107DQogICAgICAvLyAgIHRoaXMuZGlhcnlzID0gcmVzLmRhdGEucmVzdWx0Ow0KICAgICAgLy8gfSkNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIOiOt+WPluaXpeW/l+eahOWIhuexuw0KICAgIHRoaXMuYXhpb3MuZ2V0KCcvam91cm5hbC9jbGFzc2lmeScpLnRoZW4oIHJlcyA9PiB7DQogICAgICB0aGlzLmNsYXNzaWZ5ID0gcmVzLmRhdGEucmVzdWx0Ow0KICAgIH0pDQoNCiAgICAvLyDojrflj5bml6Xlv5cNCiAgICB0aGlzLmxvYWRkYXRhKHRoaXMuYWN0aXZlKTsNCiAgICANCiAgICAvLyB0aGlzLmF4aW9zLmdldCgnL2pvdXJuYWwvZGlhcnk/Y2lkPScgKyB0aGlzLmFjdGl2ZSArIiZwYWdlPSIgKyBwYWdlKS50aGVuKCByZXMgPT4gew0KICAgIC8vICAgdGhpcy5kaWFyeXMgPSByZXMuZGF0YS5yZXN1bHQ7DQogICAgLy8gfSkNCg0KICAgIC8v6LCD55Soc3RvcmXph4znmoTojrflj5bliIbnsbsNCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib2J0YWluX2NsYXNzaWZ5Iik7DQoNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpDQogIH0sDQogIGRlc3Ryb3llZCAoKSB7DQogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKQ0KICB9LA0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar title=\"搭伙族\" left-arrow fixed :border=\"show_border\" :style=\"{backgroundColor:backgroundColor}\">\r\n      <template #left>\r\n        <van-icon name=\"user-circle-o\" :color=\"nva_icon_color\" size=\"24\" @click=\"myInfo\" /> \r\n      </template>\r\n      <template #right>\r\n        <router-link to=\"/keepdiary\">\r\n          <van-icon name=\"edit\" :color=\"nva_icon_color\" size=\"24\" />\r\n        </router-link>\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 导航栏结束 -->\r\n\r\n    <!-- 首页配文开始 -->\r\n    <div class=\"top_bg\">\r\n      <h1>打开你的心扉</h1>\r\n      <span>发现志同道合的朋友，让你的行程不孤单</span>\r\n    </div>\r\n    <!-- 首页配文结束 -->\r\n\r\n    <!-- 标签栏开始 -->\r\n    <van-tabs v-model=\"active\" swipeable lazy-render class=\"tabbar\" sticky offset-top=\"46\" animated>\r\n      <van-tab :title=\"item.classify\" v-for=\"(item,index) of classify\" :key=\"index\" :name=\"index+1\" :offset-top=\"36\">\r\n\r\n        <!-- 组件懒加载 -->\r\n        <lazy-component>\r\n          <!-- 单一日志信息开始 -->\r\n          <div v-for=\"(diary,index) of diarys\" :key=\"index\" >\r\n            <router-link :to=\"`/mylv/${diary.jid}`\" >\r\n              <div class=\"articleItem\">\r\n                <!-- 日志标题开始 -->\r\n                <div class=\"articleItem-header\">\r\n                  <van-image :round=\"avatar\" width=\"4rem\" :src=\"require(`../assets/avatar/${diary.avatar}`)\" fit=\"cover\" class=\"articleImg\"/>\r\n                  <div class=\"articleMsg\">\r\n                    <div>\r\n                      <span>{{diary.nickname}}</span>\r\n                      <!-- <h3 class=\"articleItem-time\">{{this.moment.unix(diary.log_time).format('Y年MM月DD日')}}</h3> -->\r\n                      <h3 class=\"articleItem-time\">{{diary.log_time/1000 | datefmt('YYYY-MM-DD')}}</h3>\r\n                    </div>\r\n                    <h1>{{diary.journal_city}}</h1>\r\n                  </div>\r\n                </div>\r\n                <!-- 日志标题结束 -->\r\n                \r\n                <!-- 日志正文开始 -->\r\n                <div class=\"articleTitle\">{{diary.journal_title}}</div>\r\n                <div class=\"articleDes\">{{diary.content}}</div>\r\n                <!-- 日志正文结束 -->\r\n\r\n                <!-- 日志图片开始 -->\r\n                <van-swipe-cell class=\"journalImg\" right-width=\"630\" :disabled=\"true\" stop-propagation >\r\n                                                                                <!-- 传入图片数组 -->\r\n                  <div v-for=\"(pic,pindex) of diary.pics\" :key=\"pindex\" @click.prevent=\"preview(diary.pics,pindex)\" v-if=\"pindex < 3\" >\r\n                    <van-image\r\n                      width=\"7.7rem\"\r\n                      height=\"7.7rem\"\r\n                      fit=\"cover\"\r\n                      lazy-load\r\n                      :src=\"`http://127.0.0.1:8888/journal-pic/${pic.picture_pic}`\"\r\n                    >\r\n                      <template v-slot:loading>\r\n                        <van-loading type=\"spinner\" size=\"20\" />\r\n                      </template>\r\n                    </van-image>\r\n                  </div>\r\n                </van-swipe-cell>\r\n                <!-- 日志图片结束 -->\r\n\r\n                <!-- 日志观看留言开始 -->\r\n                <div class=\"journalInfor\">\r\n                  <span>观看：{{diary.browse || 0}}</span>\r\n                  <span>留言：{{diary.msg_number || 0}}</span>\r\n                </div>\r\n                <!-- 日志观看留言结束 -->\r\n              </div>\r\n            </router-link>\r\n          <!-- 单一日志信息结束 -->\r\n          </div>\r\n          <!-- 分割线 -->\r\n          <van-divider dashed\r\n            :style=\"{ color: '#ccc', borderColor: '#ccc', padding: '0 16px' }\"\r\n          >\r\n            已经到底了\r\n          </van-divider>\r\n          <!-- 单一日志信息结束 -->\r\n        </lazy-component>\r\n\r\n      </van-tab>\r\n    </van-tabs>\r\n    <!-- 标签栏结束 -->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  .home{\r\n    background: #eee;\r\n  }\r\n  .home .van-nav-bar__title{\r\n    color: #fff;\r\n  }\r\n  .home .top_bg{\r\n    height: 320px;\r\n    background: url(../assets/common/home_top.jpg) no-repeat center;\r\n    background-size: 100%;\r\n  }\r\n  .home .top_bg h1,.top_bg span{\r\n    color: #fff;\r\n    font-size: 2rem;\r\n    margin-left: 0.5rem;\r\n  }\r\n  .home .top_bg span{\r\n    width: 320px;\r\n    font-size: 1.2rem;\r\n    font-weight: lighter;\r\n    display: block;\r\n  }\r\n  .home .top_bg::before{\r\n    display: table;\r\n    content: \"\";\r\n  }\r\n  .home .top_bg h1{\r\n    margin-top: 210px;\r\n  }\r\n  .home .top_bg span{\r\n    margin-top: 10px;\r\n    line-height: 1.5rem;\r\n  }\r\n\r\n\r\n  .home .tabbar{\r\n    margin: 10px 0 0;\r\n  }\r\n\r\n  .home .tabbar .van-tabs__line{\r\n    background-color: #5ABCC8;\r\n  }\r\n  .home .tabbar .van-tab--active{\r\n    color: #5ABCC8;\r\n  }\r\n\r\n\r\n  /* 文章样式 */\r\n  .home .articleItem{\r\n    background: #fff;\r\n    margin: 10px 0;\r\n  }\r\n  .home .articleItem-header{\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    color: #1a1a1a;\r\n    line-height: 16px;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .home .articleImg{\r\n    padding: 15px;\r\n  }\r\n  .home .articleImg img{\r\n    border: 1px solid #5ABCC8;\r\n  }\r\n  .home .articleMsg{\r\n    width: 100%;\r\n    margin-top: 15px;\r\n  }\r\n  .home .articleMsg span{\r\n    color: #5ABCC8;\r\n  }\r\n  .home .articleMsg div{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .home .articleItem-header h1{\r\n    margin-top: 18px;\r\n    color: #3a3a3a;\r\n  }\r\n  .home .articleItem-time{\r\n    align-self: center;\r\n    width: 100px;\r\n    color: #ccc;\r\n    font-weight: 300;\r\n    font-size: 14px;\r\n    text-align: right;\r\n    padding-right: 15px;\r\n  }\r\n  .home .journalImg{\r\n    margin: 15px auto 16px; \r\n  }\r\n  .home .journalImg>div>div+div{\r\n    margin-left: 3px;\r\n  }\r\n  .home .journalImg>div{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: start;\r\n    box-sizing: border-box;\r\n  }\r\n  .home .articleDes{\r\n    /* height: 65px; */\r\n    font-size: 15px;\r\n    overflow: hidden;\r\n    font-weight: 400;\r\n    text-overflow: ellipsis;\r\n    line-height: 21px;\r\n    letter-spacing: normal;\r\n    color: #444;\r\n    padding: 0 15px;\r\n    text-indent:2em;\r\n\r\n    display:-webkit-box;\r\n    -webkit-line-clamp:3;\r\n    -webkit-box-orient:vertical;\r\n  }\r\n  .home .articleTitle{\r\n    font-size: 18px;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    color: #444;\r\n    padding: 0 15px;\r\n    margin-bottom: 10px;\r\n    display:-webkit-box;\r\n    -webkit-line-clamp:1;\r\n    -webkit-box-orient:vertical;\r\n  }\r\n  .home .journalInfor{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-end;\r\n    color: #ccc;\r\n    font-size: 14px;\r\n    padding-bottom: 15px;\r\n  }\r\n  .home .journalInfor>span{\r\n    margin-right: 15px;\r\n  }\r\n</style>\r\n\r\n<script>\r\nimport { ImagePreview } from \"vant\"; // 引入Vant图片预览组件\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      value:\"\",\r\n      show_border:false,\r\n      // 默认被选定的顶部选项卡及面板\r\n      active: 0,\r\n\r\n      // 存储服务器返回的日志分类\r\n      classify:[],\r\n      // 用于存储服务器返回结果\r\n      diarys: [],\r\n      // 页码\r\n      page: 1,\r\n      //总页数\r\n      pagecount:0,\r\n\r\n\r\n      // 日志图片滑动是否禁用\r\n      // disabled:false,\r\n\r\n      // 头像显示\r\n      avatar:true,\r\n      // 是否吸顶\r\n      isFixed:false,\r\n      // 导航图标颜色\r\n      nva_icon_color:\"#fff\",\r\n      // 背景颜色\r\n      backgroundColor:\"transparent\",\r\n    }\r\n  },\r\n  methods:{\r\n    // 导航栏适配变色\r\n    handleScroll () {\r\n      // 获取滚动的距离\r\n      let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n      // 获取标题dom\r\n      let nav_title = document.getElementsByClassName(\"van-nav-bar__title\")[0];\r\n      // 如果吸顶距离大于等于46\r\n      if (scrollTop >= 287) {\r\n        this.backgroundColor = \"#fff\";\r\n        this.nva_icon_color = \"#5ABCC8\";\r\n        nav_title.style.color = \"#5ABCC8\";\r\n        this.show_border = true;\r\n       } else { // 否则\r\n        this.backgroundColor = \"transparent\"\r\n        this.nva_icon_color = \"#fff\"\r\n        nav_title.style.color = \"#fff\";\r\n        this.show_border = false;\r\n      }\r\n    },\r\n\r\n\r\n    // 图片预览\r\n    preview(images,index){\r\n      // 创建需要预览的图片 URL 空数组\r\n      let pic = [];\r\n      images.forEach((value, index, array) => {\r\n        //              获取路径前面的url  拼接  图片名\r\n        pic.push( `http://127.0.0.1:8888/journal-pic/${value.picture_pic}`);\r\n      }); \r\n      // ImagePreview 图片预览组件\r\n      ImagePreview({\r\n        images:pic, //需要预览的图片 URL 数组\r\n        showIndex:true, //是否显示页码\r\n        loop:false, //是否开启循环播放\r\n        startPosition:index //图片预览起始位置索引\r\n      });\r\n    },\r\n\r\n\r\n    // 自定义函数\r\n    loaddata(value) {\r\n      // 异步更新数据\r\n      // console.log(value);\r\n      // 监听到变化的值发送 active  获取当前的日志\r\n      this.axios.get('/journal/diary?cid=' + value).then( res => {\r\n        \r\n        //获取服务器返回的数据 -- 数组\r\n        this.diarys = res.data.result;\r\n        // console.log(res.data);\r\n      })\r\n    },\r\n\r\n\r\n    // 个人资料登录判定 \r\n    myInfo(){\r\n      let isOnlogin = this.$store.state.isOnlogin;\r\n      if ( isOnlogin == 1) {\r\n        this.$router.push(\"/personage\");\r\n      } else {\r\n        this.$toast.fail('请登录后查看');\r\n        this.$router.push(\"/login\");\r\n      }\r\n    }\r\n\r\n\r\n\r\n  },\r\n  watch:{\r\n    //监听顶部选项卡发生变化时发送请求以获取对应的日志数据\r\n    active(value) {\r\n\r\n      //设置页码变量值为1(因为刚刚切换到任何一个选项卡时都是显示该类别下的第1页的数据)\r\n      this.page = 1;\r\n\r\n      // 调用获取日志的函数\r\n      this.loaddata(value);\r\n\r\n      // this.axios.get('/journal/diary?cid=' + value).then( res => {\r\n      //   this.diarys = [];\r\n      //   this.diarys = res.data.result;\r\n      // })\r\n    },\r\n  },\r\n  mounted() {\r\n    // 获取日志的分类\r\n    this.axios.get('/journal/classify').then( res => {\r\n      this.classify = res.data.result;\r\n    })\r\n\r\n    // 获取日志\r\n    this.loaddata(this.active);\r\n    \r\n    // this.axios.get('/journal/diary?cid=' + this.active +\"&page=\" + page).then( res => {\r\n    //   this.diarys = res.data.result;\r\n    // })\r\n\r\n    //调用store里的获取分类\r\n    this.$store.dispatch(\"obtain_classify\");\r\n\r\n    window.addEventListener('scroll', this.handleScroll)\r\n  },\r\n  destroyed () {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  },\r\n}\r\n</script>\r\n"]}]}