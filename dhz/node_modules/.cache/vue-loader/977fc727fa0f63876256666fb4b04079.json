{"remainingRequest":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\src\\views\\Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\src\\views\\Home.vue","mtime":1605721501880},{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\css-loader\\dist\\cjs.js","mtime":1605537524090},{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1605537543925},{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\postcss-loader\\src\\index.js","mtime":1605537534774},{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537519619},{"path":"D:\\WEB2007\\参赛项目\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js","mtime":1605537543923}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaG9tZXsKICBiYWNrZ3JvdW5kOiAjZWVlOwp9Ci5ob21lIC5uYXZiewogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Owp9Ci5ob21lIC52YW4tbmF2LWJhcl9fdGl0bGV7CiAgY29sb3I6ICNmZmY7Cn0KLmhvbWUgLnRvcF9iZ3sKICBoZWlnaHQ6IDMyMHB4OwogIGJhY2tncm91bmQ6IHVybCguLi9hc3NldHMvY29tbW9uL2hvbWVfdG9wLmpwZykgbm8tcmVwZWF0IGNlbnRlcjsKICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7Cn0KLmhvbWUgLnRvcF9iZyBoMSwudG9wX2JnIHNwYW57CiAgY29sb3I6ICNmZmY7CiAgZm9udC1zaXplOiAycmVtOwogIG1hcmdpbi1sZWZ0OiAwLjVyZW07Cn0KLmhvbWUgLnRvcF9iZyBzcGFuewogIHdpZHRoOiAzMjBweDsKICBmb250LXNpemU6IDEuMnJlbTsKICBmb250LXdlaWdodDogbGlnaHRlcjsKICBkaXNwbGF5OiBibG9jazsKfQouaG9tZSAudG9wX2JnOjpiZWZvcmV7CiAgZGlzcGxheTogdGFibGU7CiAgY29udGVudDogIiI7Cn0KLmhvbWUgLnRvcF9iZyBoMXsKICBtYXJnaW4tdG9wOiAyMTBweDsKfQouaG9tZSAudG9wX2JnIHNwYW57CiAgbWFyZ2luLXRvcDogMTBweDsKICBsaW5lLWhlaWdodDogMS41cmVtOwp9CgoKLmhvbWUgLnRhYmJhcnsKICBtYXJnaW46IDEwcHggMDsKfQoKLmhvbWUgLnRhYmJhciAudmFuLXRhYnNfX2xpbmV7CiAgYmFja2dyb3VuZC1jb2xvcjogIzVBQkNDODsKfQouaG9tZSAudGFiYmFyIC52YW4tdGFiLS1hY3RpdmV7CiAgY29sb3I6ICM1QUJDQzg7Cn0KCgovKiDmlofnq6DmoLflvI8gKi8KLmhvbWUgLmFydGljbGVJdGVtewogIGJhY2tncm91bmQ6ICNmZmY7CiAgbWFyZ2luOiAxMHB4IDA7Cn0KLmhvbWUgLmFydGljbGVJdGVtLWhlYWRlcnsKICBmb250LXdlaWdodDogNTAwOwogIGZvbnQtc2l6ZTogMTZweDsKICBjb2xvcjogIzFhMWExYTsKICBsaW5lLWhlaWdodDogMTZweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogbm93cmFwOwp9Ci5ob21lIC5hcnRpY2xlSW1newogIHBhZGRpbmc6IDE1cHg7Cn0KLmhvbWUgLmFydGljbGVJbWcgaW1newogIGJvcmRlcjogMXB4IHNvbGlkICM1QUJDQzg7Cn0KLmhvbWUgLmFydGljbGVNc2d7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLXRvcDogMTVweDsKfQouaG9tZSAuYXJ0aWNsZU1zZyBzcGFuewogIGNvbG9yOiAjNUFCQ0M4Owp9Ci5ob21lIC5hcnRpY2xlTXNnIGRpdnsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogbm93cmFwOwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKfQoKLmhvbWUgLmFydGljbGVJdGVtLWhlYWRlciBoMXsKICBtYXJnaW4tdG9wOiAxOHB4OwogIGNvbG9yOiAjM2EzYTNhOwp9Ci5ob21lIC5hcnRpY2xlSXRlbS10aW1lewogIGFsaWduLXNlbGY6IGNlbnRlcjsKICB3aWR0aDogMTAwcHg7CiAgY29sb3I6ICNjY2M7CiAgZm9udC13ZWlnaHQ6IDMwMDsKICBmb250LXNpemU6IDE0cHg7CiAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgcGFkZGluZy1yaWdodDogMTVweDsKfQouaG9tZSAuam91cm5hbEltZz5kaXY+ZGl2K2RpdnsKICBtYXJnaW4tbGVmdDogM3B4Owp9Ci5ob21lIC5qb3VybmFsSW1nPmRpdnsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogbm93cmFwOwogIGp1c3RpZnktY29udGVudDogc3RhcnQ7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBtYXJnaW46IDE1cHggYXV0byAxNnB4Owp9Ci5ob21lIC5hcnRpY2xlRGVzewogIGhlaWdodDogNjVweDsKICBmb250LXNpemU6IDE1cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBmb250LXdlaWdodDogNDAwOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIGxpbmUtaGVpZ2h0OiAyMXB4OwogIGxldHRlci1zcGFjaW5nOiBub3JtYWw7CiAgY29sb3I6ICM0NDQ7CiAgcGFkZGluZzogMCAxNXB4Owp9Ci5ob21lIC5qb3VybmFsSW5mb3J7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IG5vd3JhcDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIGNvbG9yOiAjY2NjOwogIGZvbnQtc2l6ZTogMTRweDsKICBwYWRkaW5nLWJvdHRvbTogMTVweDsKfQouaG9tZSAuam91cm5hbEluZm9yPnNwYW57CiAgbWFyZ2luLXJpZ2h0OiAxNXB4Owp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar title=\"搭伙族\" left-arrow fixed :border=\"show_border\" class=\"navb\">\r\n      <template #left>\r\n        <router-link to=\"/personage\">\r\n          <van-icon name=\"user-circle-o\" color=\"#fff\" size=\"24\"  /> \r\n        </router-link>\r\n      </template>\r\n      <template #right>\r\n        <van-icon name=\"search\" color=\"#fff\" size=\"24\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 导航栏结束 -->\r\n\r\n    <!-- 首页配文开始 -->\r\n    <div class=\"top_bg\">\r\n      <h1>打开你的心扉</h1>\r\n      <span>发现志同道合的朋友，让你的行程不孤单</span>\r\n    </div>\r\n    <!-- 首页配文结束 -->\r\n\r\n    <!-- 标签栏开始 -->\r\n    <van-tabs v-model=\"active\" lazy-render :scroll=\"imbibition\" class=\"tabbar\">\r\n      <van-tab :title=\"item.classify\" v-for=\"(item,index) of classify\" :key=\"index\" :name=\"index+1\" >\r\n        <!-- 单一日志信息开始 -->\r\n        <div v-for=\"(diary,index) of diarys\" :key=\"index\">\r\n          <router-link :to=\"`/mylv/${diary.jid}`\">\r\n            <div class=\"articleItem\">\r\n              <!-- 日志标题开始 -->\r\n              <div class=\"articleItem-header\">\r\n                <van-image :round=\"avatar\" width=\"4rem\" :src=\"require(`../assets/avatar/${diary.avatar}`)\" fit=\"cover\" class=\"articleImg\"/>\r\n                <div class=\"articleMsg\">\r\n                  <div>\r\n                    <span>{{diary.nickname}}</span>\r\n                    <!-- <h3 class=\"articleItem-time\">{{this.moment.unix(diary.log_time).format('Y年MM月DD日')}}</h3> -->\r\n                    <h3 class=\"articleItem-time\">{{diary.log_time/1000 | datefmt('YYYY-MM-DD')}}</h3>\r\n                  </div>\r\n                  <h1>{{diary.journal_city}}</h1>\r\n                </div>\r\n              </div>\r\n              <!-- 日志标题结束 -->\r\n              <!-- 日志正文开始 -->\r\n              <div class=\"articleDes\">{{diary.content}}</div>\r\n              <!-- 日志正文结束 -->\r\n              <!-- 日志图片开始 -->\r\n              <van-swipe-cell class=\"journalImg\">\r\n                                                                              <!-- 传入图片数组 -->\r\n                <div v-for=\"(item,index) of diary.pic\" :key=\"index\" @click=\"preview(diary.pic,index)\">\r\n                  <van-image\r\n                    width=\"7.8rem\"\r\n                    height=\"7.8rem\"\r\n                    fit=\"cover\"\r\n                    :src=\"require(`../assets/journal-pic/${item.picture_pic}`)\"\r\n                  >\r\n                    <template v-slot:loading>\r\n                      <van-loading type=\"spinner\" size=\"20\" />\r\n                    </template>\r\n                  </van-image>\r\n                </div>\r\n              </van-swipe-cell>\r\n              <!-- 日志图片结束 -->\r\n              <!-- 日志观看留言开始 -->\r\n              <div class=\"journalInfor\">\r\n                <span>观看：{{diary.browse || 0}}</span>\r\n                <span>留言：{{diary.msg_number || 0}}</span>\r\n              </div>\r\n              <!-- 日志观看留言结束 -->\r\n              \r\n            </div>\r\n          </router-link>\r\n        <!-- 单一日志信息结束 -->\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <!-- 标签栏结束 -->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  .home{\r\n    background: #eee;\r\n  }\r\n  .home .navb{\r\n    background-color: transparent;\r\n  }\r\n  .home .van-nav-bar__title{\r\n    color: #fff;\r\n  }\r\n  .home .top_bg{\r\n    height: 320px;\r\n    background: url(../assets/common/home_top.jpg) no-repeat center;\r\n    background-size: 100%;\r\n  }\r\n  .home .top_bg h1,.top_bg span{\r\n    color: #fff;\r\n    font-size: 2rem;\r\n    margin-left: 0.5rem;\r\n  }\r\n  .home .top_bg span{\r\n    width: 320px;\r\n    font-size: 1.2rem;\r\n    font-weight: lighter;\r\n    display: block;\r\n  }\r\n  .home .top_bg::before{\r\n    display: table;\r\n    content: \"\";\r\n  }\r\n  .home .top_bg h1{\r\n    margin-top: 210px;\r\n  }\r\n  .home .top_bg span{\r\n    margin-top: 10px;\r\n    line-height: 1.5rem;\r\n  }\r\n\r\n\r\n  .home .tabbar{\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .home .tabbar .van-tabs__line{\r\n    background-color: #5ABCC8;\r\n  }\r\n  .home .tabbar .van-tab--active{\r\n    color: #5ABCC8;\r\n  }\r\n\r\n\r\n  /* 文章样式 */\r\n  .home .articleItem{\r\n    background: #fff;\r\n    margin: 10px 0;\r\n  }\r\n  .home .articleItem-header{\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    color: #1a1a1a;\r\n    line-height: 16px;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .home .articleImg{\r\n    padding: 15px;\r\n  }\r\n  .home .articleImg img{\r\n    border: 1px solid #5ABCC8;\r\n  }\r\n  .home .articleMsg{\r\n    width: 100%;\r\n    margin-top: 15px;\r\n  }\r\n  .home .articleMsg span{\r\n    color: #5ABCC8;\r\n  }\r\n  .home .articleMsg div{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .home .articleItem-header h1{\r\n    margin-top: 18px;\r\n    color: #3a3a3a;\r\n  }\r\n  .home .articleItem-time{\r\n    align-self: center;\r\n    width: 100px;\r\n    color: #ccc;\r\n    font-weight: 300;\r\n    font-size: 14px;\r\n    text-align: right;\r\n    padding-right: 15px;\r\n  }\r\n  .home .journalImg>div>div+div{\r\n    margin-left: 3px;\r\n  }\r\n  .home .journalImg>div{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: start;\r\n    box-sizing: border-box;\r\n    margin: 15px auto 16px;\r\n  }\r\n  .home .articleDes{\r\n    height: 65px;\r\n    font-size: 15px;\r\n    overflow: hidden;\r\n    font-weight: 400;\r\n    text-overflow: ellipsis;\r\n    line-height: 21px;\r\n    letter-spacing: normal;\r\n    color: #444;\r\n    padding: 0 15px;\r\n  }\r\n  .home .journalInfor{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-end;\r\n    color: #ccc;\r\n    font-size: 14px;\r\n    padding-bottom: 15px;\r\n  }\r\n  .home .journalInfor>span{\r\n    margin-right: 15px;\r\n  }\r\n</style>\r\n\r\n<script>\r\nimport { ImagePreview } from \"vant\"; // 引入Vant图片预览组件\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      value:\"\",\r\n      show_border:false,\r\n      // 默认被选定的顶部选项卡及面板\r\n      active: 0,\r\n      // 默认被选定的顶部选项卡\r\n      selectedTab: \"index\",\r\n      // 存储服务器返回的日志分类\r\n      classify:[],\r\n      // 用于存储服务器返回结果\r\n      diarys: [],\r\n      // 页码\r\n      page: 1,\r\n      //总页数\r\n      pagecount:0,\r\n\r\n      avatar:true,\r\n      // 距离顶部位置\r\n      scrollTop:46,\r\n      // 是否吸顶\r\n      isFixed:false,\r\n    }\r\n  },\r\n  methods:{\r\n    imbibition() {\r\n      if (scrollTop >= 46) {\r\n        this.isFixed = true;\r\n      } else {\r\n        this.isFixed = false;\r\n      }\r\n    },\r\n    loadData(cid, page) {\r\n      //显示加载提示框\r\n      this.$indicator.open({\r\n        text:'加载中...',\r\n        spinnerType:'fading-circle'\r\n      });\r\n    },\r\n\r\n    // 图片预览\r\n    preview(images,index){\r\n      // 创建需要预览的图片 URL 空数组\r\n      let pic = [];\r\n      images.forEach((value, index, array) => {\r\n        //              获取路径前面的url  拼接  图片名\r\n        pic.push( `http://127.0.0.1:8888/journal-pic/${value.picture_pic}`);\r\n      }); \r\n      // ImagePreview 图片预览组件\r\n      ImagePreview({\r\n        images:pic, //需要预览的图片 URL 数组\r\n        showIndex:true, //是否显示页码\r\n        loop:false, //是否开启循环播放\r\n        startPosition:index //图片预览起始位置索引\r\n      });\r\n    }\r\n  },\r\n  watch:{\r\n    //监听顶部选项卡发生变化时发送请求以获取对应的日志数据\r\n    active(value) {\r\n      //清空之前保存的文章数据\r\n      this.diarys = [];\r\n      //设置页码变量值为1(因为刚刚切换到任何一个选项卡时都是显示该类别下的第1页的数据)\r\n      this.page = 1;\r\n      // 监听到变化的值发送 active  获取当前的日志\r\n      this.axios.get('/journal/diary?cid=' + value).then( res => {\r\n        this.diarys = res.data.result;\r\n      })\r\n      \r\n    },\r\n  },\r\n  mounted() {\r\n    // 获取日志的分类\r\n    this.axios.get('/journal/classify').then( res => {\r\n      this.classify = res.data.result;\r\n    })\r\n    // 获取日志\r\n    this.axios.get('/journal/diary?cid=' + this.active).then( res => {\r\n      this.diarys = res.data.result;\r\n    })\r\n  },\r\n}\r\n</script>\r\n"]}]}