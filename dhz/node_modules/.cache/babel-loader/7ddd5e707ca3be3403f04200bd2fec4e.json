{"remainingRequest":"D:\\MyObject\\Travel-log\\dhz\\node_modules\\babel-loader\\lib\\index.js!D:\\MyObject\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyObject\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyObject\\Travel-log\\dhz\\src\\views\\KeepDiary.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyObject\\Travel-log\\dhz\\src\\views\\KeepDiary.vue","mtime":1605791323781},{"path":"D:\\MyObject\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605661833350},{"path":"D:\\MyObject\\Travel-log\\dhz\\node_modules\\babel-loader\\lib\\index.js","mtime":1605661833063},{"path":"D:\\MyObject\\Travel-log\\dhz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605661833350},{"path":"D:\\MyObject\\Travel-log\\dhz\\node_modules\\vue-loader\\lib\\index.js","mtime":1605661845392}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmlofnq6DmraPmlocKICAgICAgYXJ0aWNsZTogIiIsCiAgICAgIC8vIOaWh+eroOagh+mimAogICAgICBhcnRpY2xlX3RpdDogIiIsCiAgICAgIGZpbGVMaXN0OiBbLy8gVXBsb2FkZXIg5qC55o2u5paH5Lu25ZCO57yA5p2l5Yik5pat5piv5ZCm5Li65Zu+54mH5paH5Lu2CiAgICAgICAgLy8g5aaC5p6c5Zu+54mHIFVSTCDkuK3kuI3ljIXlkKvnsbvlnovkv6Hmga/vvIzlj6/ku6Xmt7vliqAgaXNJbWFnZSDmoIforrDmnaXlo7DmmI4KICAgICAgICAvLyB7IHVybDogJ2h0dHBzOi8vY2xvdWQtaW1hZ2UnLCBpc0ltYWdlOiB0cnVlIH0sCiAgICAgIF0sCiAgICAgIC8vIOW9k+WJjeWfjuW4ggogICAgICBjdXJyZW50X2NpdHk6ICIiLAogICAgICBjaXR5OiBbJ+adreW3nicsICflroHms6InLCAn5rip5beeJywgJ+WYieWFtCcsICfmuZblt54nXSwKICAgICAgc2hvd2NpdHk6IGZhbHNlLAogICAgICAvLyDmlofnq6DliIbnsbsKICAgICAgY2xhc3NpZnk6ICIiLAogICAgICBkaWFyeWNsYXNzaWZ5OiBbJ+WFqOmDqCcsICflvZPliY3ln47luIInLCAn5peF5ri4JywgJ+i/kOWKqCcsICfppJDppa7nvo7po58nLCAn5YW25LuWJ10sCiAgICAgIHNob3djbGFzc2lmeTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIC8vIOatpOaXtuWPr+S7peiHquihjOWwhuaWh+S7tuS4iuS8oOiHs+acjeWKoeWZqAogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIH0sCiAgICAvLyDln47luILpgInmi6nlmagKICAgIG9uY2l0eTogZnVuY3Rpb24gb25jaXR5KHZhbHVlKSB7CiAgICAgIHRoaXMuY3VycmVudF9jaXR5ID0gdmFsdWU7CiAgICAgIHRoaXMuc2hvd2NpdHkgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDliIbnsbvnmoTpgInmi6nlmagKICAgIG9uY2xhc3NpZnk6IGZ1bmN0aW9uIG9uY2xhc3NpZnkodmFsdWUpIHsKICAgICAgdGhpcy5jbGFzc2lmeSA9IHZhbHVlOwogICAgICB0aGlzLnNob3djbGFzc2lmeSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWPkeW4g+aXpeW/lwogICAgcmVsZWFzZTogZnVuY3Rpb24gcmVsZWFzZSgpIHsKICAgICAgLy8g6I635Y+W5b2T5YmN5pe26Ze0CiAgICAgIHZhciBjdXJyZW50X3RpbWUgPSB0aGlzLm1vbWVudCgpLmZvcm1hdCgnWCcpOwogICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgIC8vIOaXpeW/l+agh+mimAogICAgICAgICJqb3VybmFsX3RpdGxlIjogdGhpcy5hcnRpY2xlX3RpdCwKICAgICAgICAvLyDml6Xlv5fmraPmlocKICAgICAgICAiY29udGVudCI6IHRoaXMuYXJ0aWNsZSwKICAgICAgICAvLyDlj5HluIPml7bpl7QKICAgICAgICAibG9nX3RpbWUiOiBjdXJyZW50X3RpbWUsCiAgICAgICAgLy8g5b2T5YmN5Z+O5biCCiAgICAgICAgImpvdXJuYWxfY2l0eSI6IHRoaXMuY3VycmVudF9jaXR5LAogICAgICAgIC8vIOW9k+WJjeWIhuexuwogICAgICAgICJqb3VybmFsX2NsYXNzaWZ5IjogdGhpcy5jbGFzc2lmeQogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhvYmplY3QpOwogICAgICB0aGlzLmF4aW9zLnBvc3QoJy9qb3VybmFsL2RpYXJ5YWRkJywgdGhpcy5xcy5zdHJpbmdpZnkob2JqZWN0KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPkemAgeS6hiIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["KeepDiary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAGA;AACA,MAAA,WAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,CACA;AACA;AACA;AAHA,OALA;AAUA;AACA,MAAA,YAAA,EAAA,EAXA;AAYA,MAAA,IAAA,EAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAZA;AAaA,MAAA,QAAA,EAAA,KAbA;AAcA;AACA,MAAA,QAAA,EAAA,EAfA;AAgBA,MAAA,aAAA,EAAA,CAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,CAhBA;AAiBA,MAAA,YAAA,EAAA;AAjBA,KAAA;AAoBA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,IADA,EACA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,KAJA;AAKA;AACA,IAAA,MANA,kBAMA,KANA,EAMA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,KATA;AAUA;AACA,IAAA,UAXA,sBAWA,KAXA,EAWA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAdA;AAeA;AACA,IAAA,OAhBA,qBAgBA;AACA;AACA,UAAA,YAAA,GAAA,KAAA,MAAA,GAAA,MAAA,CAAA,GAAA,CAAA;AACA,UAAA,MAAA,GAAA;AACA;AACA,yBAAA,KAAA,WAFA;AAGA;AACA,mBAAA,KAAA,OAJA;AAKA;AACA,oBAAA,YANA;AAOA;AACA,wBAAA,KAAA,YARA;AASA;AACA,4BAAA,KAAA;AAVA,OAAA;AAYA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,EAAA,KAAA,EAAA,CAAA,SAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAFA;AAGA;AAnCA;AAvBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"keepDiary\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar title=\"发布日志\" left-arrow fixed border class=\"navb\">\r\n      <template #left>\r\n        <router-link to=\"/\">\r\n          <van-icon name=\"arrow-left\" color=\"#000\" size=\"24\"  /> \r\n        </router-link>\r\n      </template>\r\n      <template #right>\r\n        <van-button round type=\"info\" size=\"small\" color=\"#5ABCC8\" @click=\"release\">发布</van-button>\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 导航栏结束 -->\r\n\r\n    <!-- 正文开始 -->\r\n    <div class=\"diarytext\">\r\n      <van-field\r\n        v-model=\"article\"\r\n        rows=\"8\"\r\n        type=\"textarea\"\r\n        maxlength=\"3000\"\r\n        placeholder=\"随手分享下你的旅行日志吧！\"\r\n        show-word-limit\r\n      />\r\n    </div>\r\n    <!-- 正文结束 -->\r\n    <!-- 图片上传开始 -->\r\n    <div class=\"picUpload\">\r\n      <van-uploader v-model=\"fileList\" multiple :max-count=\"8\"/>\r\n    </div>\r\n    <!-- 图片上传结束 -->\r\n    <!-- 标题开始 -->\r\n    <van-cell-group>\r\n      <van-field v-model=\"article_tit\" label=\"文章标题\" placeholder=\"请填写文章标题\" label-width=\"4.2em\"/>\r\n    </van-cell-group>\r\n    <!-- 标题结束 -->\r\n    <!-- 城市位置开始 -->\r\n    <van-cell-group>\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        name=\"current_city\"\r\n        :value=\"current_city\"\r\n        label=\"当前城市\"\r\n        label-width=\"4.2em\"\r\n        placeholder=\"点击选择城市\"\r\n        @click=\"showcity = true\"\r\n      />\r\n      <van-popup v-model=\"showcity\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"city\"\r\n          @confirm=\"oncity\"\r\n          @cancel=\"showcity = false\"\r\n        />\r\n      </van-popup>\r\n    </van-cell-group>\r\n    <!-- 城市位置结束 -->\r\n    <!-- 文章分类开始 -->\r\n    <van-cell-group>\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        name=\"classify\"\r\n        :value=\"classify\"\r\n        label=\"文章分类\"\r\n        label-width=\"4.2em\"\r\n        placeholder=\"点击选择分类\"\r\n        @click=\"showclassify = true\"\r\n      />\r\n      <van-popup v-model=\"showclassify\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"diaryclassify\"\r\n          @confirm=\"onclassify\"\r\n          @cancel=\"showclassify = false\"\r\n        />\r\n      </van-popup>\r\n    </van-cell-group>\r\n    <!-- 文章分类结束 -->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n/* 导航按钮 */\r\n.keepDiary .van-button--round{\r\n  border-radius: 50px;\r\n  height: 24px;\r\n}\r\n.keepDiary .van-nav-bar__left, .van-nav-bar__right{\r\n  font-size: 24px;\r\n}\r\n/* 正文 */\r\n.keepDiary .diarytext{\r\n  margin-top: 46px;\r\n}\r\n.keepDiary .diarytext .van-cell{\r\n  padding: 0;\r\n}\r\n.keepDiary .diarytext .van-cell__value--alone{\r\n  background: rgb(250, 250, 250);\r\n  padding: 15px;\r\n}\r\n.keepDiary .diarytext .van-field__control{\r\n  text-indent:2em;\r\n}\r\n/* 图片上传 */\r\n.keepDiary .picUpload{\r\n  margin-left: 8px;\r\n  margin-top: 8px;\r\n}\r\n/* 当前城市 */\r\n.keepDiary .current_city{\r\n  border-top: 1px solid rgb(250, 250, 250);\r\n  border-bottom: 1px solid rgb(250, 250, 250);\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      // 文章正文\r\n      article:\"\",\r\n      // 文章标题\r\n      article_tit:\"\",\r\n      fileList: [\r\n        // Uploader 根据文件后缀来判断是否为图片文件\r\n        // 如果图片 URL 中不包含类型信息，可以添加 isImage 标记来声明\r\n        // { url: 'https://cloud-image', isImage: true },\r\n      ],\r\n      // 当前城市\r\n      current_city:\"\",\r\n      city: ['杭州', '宁波', '温州', '嘉兴', '湖州'],\r\n      showcity: false,\r\n      // 文章分类\r\n      classify:\"\",\r\n      diaryclassify: ['全部', '当前城市', '旅游', '运动', '餐饮美食','其他'],\r\n      showclassify: false,\r\n      \r\n    }\r\n  },\r\n  methods: {\r\n    afterRead(file) {\r\n      // 此时可以自行将文件上传至服务器\r\n      console.log(file);\r\n    },\r\n    // 城市选择器\r\n    oncity(value) {\r\n      this.current_city = value;\r\n      this.showcity = false;\r\n    },\r\n    // 分类的选择器\r\n    onclassify(value){\r\n      this.classify = value;\r\n      this.showclassify = false;\r\n    },\r\n    // 发布日志\r\n    release(){\r\n      // 获取当前时间\r\n      let current_time = this.moment().format('X');\r\n      let object = {\r\n        // 日志标题\r\n        \"journal_title\":this.article_tit,\r\n        // 日志正文\r\n        \"content\":this.article,\r\n        // 发布时间\r\n        \"log_time\":current_time,\r\n        // 当前城市\r\n        \"journal_city\":this.current_city,\r\n        // 当前分类\r\n        \"journal_classify\":this.classify\r\n      }\r\n      console.log(object);\r\n      this.axios.post('/journal/diaryadd',this.qs.stringify(object)).then( res => {\r\n        console.log(\"发送了\");\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views"}]}